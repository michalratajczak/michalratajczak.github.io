{"mappings":";;;;;AAAA;AGeO,MAAM,yCAAI;IASf,YAAY,EAAM,EAAE,KAAa,EAAE,IAAY,EAAE,QAAgB,EAAE,MAAc,CAAE;QACjF,IAAI,CAAC,GAAG,GAAG,EAAE;QACb,IAAI,CAAC,KAAK,GAAG,KAAK;QAClB,IAAI,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,CAAC,QAAQ,GAAG,QAAQ;QACxB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC;QACzB,IAAI,CAAC,MAAM,GAAG,MAAM;QACpB,IAAI,CAAC,SAAS,GAAG,MAAM;KACxB;IAED,IAAI,CAAC,CAAS,EAAQ;QACpB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;IAED,IAAI,GAAS;QACX,MAAM;QACN,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QACzB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC;QAE5D,QAAQ;QACR,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC;QACrB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QAChB,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,GAAG,GAAG;QACvE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;KACrG;CACF;;ADlDD;AGyBO,MAAM,wCAAY;IAUvB,YAAY,EAAM,EAAE,OAAe,EAAE,aAAqB,EAAE,WAAmB,EAAE,MAAc,CAAE;QAC/F,IAAI,CAAC,GAAG,GAAG,EAAE;QACb,IAAI,CAAC,OAAO,GAAG,OAAO;QACtB,IAAI,CAAC,IAAI,GAAG,OAAO;QACnB,IAAI,CAAC,aAAa,GAAG,aAAa;QAClC,IAAI,CAAC,WAAW,GAAG,WAAW;QAC9B,IAAI,CAAC,MAAM,GAAG,EAAE;QAChB,IAAI,CAAC,MAAM,GAAG,MAAM;KACrB;IAED,IAAI,CAAC,MAAiB,EAAE,QAAmB,EAAQ,EAAE;IACrD,IAAI,CAAC,QAAmB,EAAE,QAAgB,EAAQ,EAAE;IAEpD,MAAM,CAAC,QAAmB,EAAQ;QAChC,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE;YACvC,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;YACtE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC;YAC3B,IAAI,CAAC,IAAI,EAAE;SACZ;QACD,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,EAChB,IAAI,CAAC,MAAM,EAAE;KAEhB;IACD,MAAM,GAAS;QACb,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,IAAI,CAAC,YAAY,GAAG,IAAI;YACxB,MAAM,OAAO,GAAG,UAAU,CAAC,IAAM;gBAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO;gBACxB,IAAI,CAAC,YAAY,GAAG,KAAK;gBACzB,YAAY,CAAC,OAAO,CAAC;aACtB,EAAE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,GAAG,CAAC;SACpD;KACF;IACD,WAAW,GAAY;QACrB,OAAO,IAAI,CAAC,YAAY,CAAA;KACzB;IACD,UAAU,GAAW;QACnB,OAAO,IAAI,CAAC,OAAO,CAAA;KACpB;IACD,UAAU,GAAc;QACtB,OAAO,IAAI,CAAC,MAAM,CAAA;KACnB;IACD,UAAU,CAAC,KAAY,EAAE,MAAe,EAAQ;QAC9C,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM;QAC3B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;KACnD;CACF;;ADjFD;AAGO,MAAM,yCAAG,SAAS,wCAAY;IACnC,YAAY,EAAM,CAAE;QAClB,KAAK,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;KACxB;IAED,IAAI,CAAC,MAAiB,EAAE,QAAmB,EAAQ;QACjD,MAAM,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE;QAC5C,MAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YACf,QAAQ,EAAE,QAAQ;YAClB,MAAM,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;YACrD,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE;SACpB,CAAC;KACH;IAED,YAAY,GAAS;QACnB,MAAM,aAAa,GAAc,EAAE;QACnC,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,CAAE;YACzB,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC;YAEtB,IAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAChF,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;iBAErB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;SAE7C;QACD,KAAK,IAAI,EAAC,IAAI,aAAa,CAAE;YAC3B,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAC,CAAC;YAClC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;SAC3B;KACF;IAED,IAAI,CAAC,QAAmB,EAAE,QAAgB,EAAQ;QAChD,IAAI,CAAC,YAAY,EAAE;QAEnB,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;QACtE,MAAM,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC;QAC9E,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;QAClB,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;KACpD;CACF;;;AFvCM,MAAM,yCAAI,SAAS,yCAAI;IAG5B,YAAY,EAAM,EAAE,KAAa,EAAE,IAAY,EAAE,QAAgB,EAAE,MAAc,CAAE;QACjF,KAAK,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC;QACxC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;QACjC,IAAI,CAAC,MAAM,GAAG,IAAI,yCAAG,CAAC,EAAE,CAAC;KAC1B;IAED,gBAAgB,GAAW;QACzB,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC;QAErC,IAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,EACvB,CAAC,CAAC,CAAC,IAAI,CAAC;QACV,IAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,EACvB,CAAC,CAAC,CAAC,IAAI,CAAC;QACV,IAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,EACvB,CAAC,CAAC,CAAC,IAAI,CAAC;QACV,IAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,EACvB,CAAC,CAAC,CAAC,IAAI,CAAC;QAEV,OAAO,CAAC,CAAA;KACT;IAED,IAAI,GAAS;QACX,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QAC9C,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QACzB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC;KAC7D;IAED,MAAM,GAAS;QACb,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;KAClC;IAED,MAAM,GAAS;QACb,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;KACrB;CACF;;AD3CD;AKGO,MAAM,yCAAG;IACd,IAAI,CAAC,EAAM,EAAE,IAAU,EAAE,KAAa,EAAS;QAC7C,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;QAEV,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC;QACf,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,CAAC,YAAY,GAAG,EAAE,CAAC;QAC1C,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;QAElC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;QACxC,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI;QAE7B,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,EAAE,CAAE;YAChC,IAAI,CAAC,GAAG,IAAI,EACV,EAAE,CAAC,MAAM,EAAE;YAEb,EAAE,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,YAAY,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;SACnD;KACF;CACF;;;AErBD;AAGO,MAAM,yCAAM,SAAS,yCAAI;IAC9B,YAAY,EAAM,EAAE,KAAa,EAAE,IAAY,EAAE,QAAgB,EAAE,MAAc,CAAE;QACjF,KAAK,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC;QACxC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC;KAClC;CACF;;ADRD;AAKA,MAAM,kCAAY,GAAG,IAAM;IACzB,MAAM,UAAU,GAAG,CAAC,EAAM,EAAE,OAAe,EAAE,IAAU,GAAK;QAC1D,IAAG,EAAE,CAAC,UAAU,GAAG,GAAG,KAAK,CAAC,EAAE;YAC5B,MAAM,SAAS,GAAG,EAAE,CAAC,MAAM,CAAC;gBAAC,GAAG;gBAAE,GAAG;aAAC,CAAC;YACvC,IAAI,CAAC,AAAQ,EAAE,CAAC,AAAQ;YACxB,IAAI,SAAS,KAAK,GAAG,EAAE;gBACrB,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,WAAW,GAAG,GAAG,GAAG,IAAI;gBACvD,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,YAAY,CAAC;aAClC,MAAM;gBACL,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,WAAW,CAAC;gBAChC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,YAAY,GAAG,GAAG,GAAG,IAAI;aACzD;YAED,OAAO,CAAC,IAAI,CAAC,IAAI,yCAAM,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;SAC/D;KACF;IAED,MAAM,WAAW,GAAG,CAAC,OAAe,EAAE,IAAU,GAAK;QACnD,MAAM,eAAe,GAAG,EAAE;QAC1B,KAAK,MAAM,KAAK,IAAI,OAAO,CAAE;YAC3B,MAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YAChF,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;YAErB,KAAK,MAAM,KAAK,IAAI,OAAO,CAAE;gBAC3B,IAAI,KAAK,KAAK,KAAK,EAAE,SAAQ;gBAC7B,IAAI,eAAe,CAAC,IAAI,CAAC,CAAA,CAAC,GAAI,CAAC,CAAC,QAAQ,KAAK,KAAK;gBAAA,CAAC,EAAE,SAAQ;gBAC7D,IAAI,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE,SAAQ;gBACrC,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,AAAC,KAAK,CAAC,IAAI,GAAG,CAAC,GAAK,KAAK,CAAC,IAAI,GAAG,CAAC,AAAC,EAAE;oBAC7E,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM;oBAC5B,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,SAAS;oBAClC,eAAe,CAAC,IAAI,CAAC;wBACnB,IAAI,EAAE,KAAK;wBACX,QAAQ,EAAE,KAAK;qBAChB,CAAC;iBACH;aACF;SACF;QAED,KAAK,MAAM,CAAC,IAAI,eAAe,CAAE;YAC/B,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;YAChB,CAAC,CAAC,KAAK,IAAI,IAAI;YACf,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;SAC/C;KACF;IAED,MAAM,WAAW,GAAG,CAAC,OAAe,GAAK;QACvC,KAAK,MAAM,KAAK,IAAI,OAAO,CACzB,KAAK,CAAC,IAAI,EAAE;KAEf;IAED,MAAM,eAAe,GAAG,CAAC,OAAe,EAAE,IAAU,GAAa;QAC/D,IAAI,OAAO,CAAC,IAAI,CAAC,CAAA,CAAC,GAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,CAAC;QAAA,CAAC,EAChF,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,CAAA;QAE9B,MAAM,WAAW,GAAW,EAAE;QAC9B,KAAK,MAAM,KAAK,IAAI,OAAO,CAAE;YAC3B,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAC3C,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE;gBACvD,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC;gBACrC,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,EAAE,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC;aAC/C;SAEJ;QAED,KAAK,IAAI,MAAK,IAAI,WAAW,CAC3B,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,MAAK,CAAC,EAAE,CAAC,CAAC;QAG3C,OAAO,WAAW,CAAC,MAAM,CAAA;KAC1B;IAED,OAAO;oBACL,UAAU;qBACV,WAAW;qBACX,WAAW;yBACX,eAAe;KAChB,CAAA;CACF;IAED,wCAA2B,GAAZ,kCAAY;;;AN9EpB,MAAM,yCAAQ;IASnB,YAAY,EAAM,CAAE;QAClB,IAAI,CAAC,EAAE,GAAG,EAAE;QACZ,IAAI,CAAC,aAAa,GAAG,KAAK;KAC3B;IAED,IAAI,GAAG,IAAM;QACX,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,yCAAI,CAAC,IAAI,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;YAClH,IAAI,CAAC,OAAO,GAAG,EAAE;YACjB,IAAI,CAAC,GAAG,GAAG,IAAI,yCAAG,EAAE;YACpB,IAAI,CAAC,KAAK,GAAG,CAAC;YACd,IAAI,CAAC,aAAa,GAAG,IAAI;SAC1B;KACF,CAAA;IAED,IAAI,GAAG,IAAM;QACX,IACA;YACE,MAAM,EAAE,GAAG,wCAAY,EAAE;YAEzB,MAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;YAClD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;YAE7B,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC;YAC/C,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC;YAEvC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC;YAEzD,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC;YAC5B,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YAChB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;SAC9C,CACD,OAAM,CAAC,EAAO;YACZ,IAAI,CAAC,CAAC,OAAO,KAAK,WAAW,EAAE;gBAC7B,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;gBAC9C,KAAK,CAAC,IAAI,GAAG,WAAW;gBACxB,MAAM,KAAK,CAAA;aACZ;SACF;KACF,CAAA;IAED,UAAU,GAAG,IAAM;QACjB,IAAI,IAAI,CAAC,EAAE,CAAC,OAAO,KAAK,EAAE,EACxB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;KAErB,CAAA;IAED,YAAY,GAAG,IAAM;QACnB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;KACnB,CAAA;CACF;;;AQ/DM,MAAM,yCAAQ;IAGnB,YAAY,EAAM,CAAE;QAClB,IAAI,CAAC,EAAE,GAAG,EAAE;KACb;IAED,IAAI,GAAG,IAAM,EAEZ,CAAA;IAED,IAAI,GAAG,IAAM;QACX,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC;QACpB,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;QAC/B,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QACvC,MAAM,KAAK,GAAG,WAAW;QACzB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;QAErG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC;QACjC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC;QACpB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;QAEhB,MAAM,cAAc,GAAG,2BAA2B;QAClD,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;QAEvH,MAAM,aAAa,GAAG,+BAA+B;QACrD,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,GAAG,EAAE,CAAC;QAE1H,MAAM,iBAAiB,GAAG,kBAAkB;QAC5C,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,iBAAiB,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,GAAG,EAAE,CAAC;QAElI,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC;QACjC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC;QACpB,MAAM,QAAQ,GAAG,CAAC,6BAA6B,CAAC;QAChD,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC;KAChH,CAAA;IAED,UAAU,GAAG,IAAM;QACjB,IAAI,IAAI,CAAC,EAAE,CAAC,OAAO,KAAK,EAAE,EAAE;YAC1B,MAAM,KAAK,GAAG,IAAI,KAAK,EAAE;YACzB,KAAK,CAAC,IAAI,GAAG,MAAM;YACnB,MAAM,KAAK,CAAA;SACZ;KACF,CAAA;IAED,YAAY,GAAG,IAAM,EAEpB,CAAA;CACF;;;ACjDM,MAAM,wCAAU;IAIrB,YAAY,EAAM,EAAE,MAAc,CAAE;QAClC,IAAI,CAAC,EAAE,GAAG,EAAE;QACZ,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;KAC/B;IAED,IAAI,GAAG,IAAM,EAEZ,CAAA;IAED,IAAI,GAAG,IAAM;QACX,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC;QACpB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;QAChB,MAAM,UAAU,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC;QAE/G,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC;QACpB,MAAM,QAAQ,GAAG,CAAC,kCAAkC,CAAC;QACrD,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC;KAChH,CAAA;IAED,UAAU,GAAG,IAAM;QACjB,IAAI,IAAI,CAAC,EAAE,CAAC,OAAO,KAAK,EAAE,EAAE;YAC1B,MAAM,KAAK,GAAG,IAAI,KAAK,EAAE;YACzB,KAAK,CAAC,IAAI,GAAG,MAAM;YACnB,MAAM,KAAK,CAAA;SACZ;KACF,CAAA;IAED,YAAY,GAAG,IAAM,EAEpB,CAAA;CACF;;;AVlCD,MAAM,4BAAM,GAAG,CAAC,EAAM,GAAK;IACzB,IAAI,WAAW,AAAO;IAEtB,EAAE,CAAC,KAAK,GAAG,IAAM;QACf,MAAM,MAAM,GAAG,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,EAAE,EAAE,CAAC,YAAY,CAAC;QAC/D,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC;QAEpB,WAAW,GAAG,IAAI,yCAAQ,CAAC,EAAE,CAAC;KAC/B;IAED,EAAE,CAAC,aAAa,GAAG,IAAM;QACvB,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,EAAE,EAAE,CAAC,YAAY,CAAC;KACjD;IAED,EAAE,CAAC,IAAI,GAAG,IAAM;QACd,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC;QAElB,IAAI;YACF,WAAW,CAAC,IAAI,EAAE;YAClB,WAAW,CAAC,IAAI,EAAE;SACnB,CACD,OAAM,CAAC,EAAO;YACZ,IAAI,CAAC,CAAC,IAAI,KAAK,WAAW,EACxB,WAAW,GAAG,IAAI,wCAAU,CAAC,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC;SAE9C;KACF;IAED,EAAE,CAAC,UAAU,GAAG,IAAM;QACpB,IAAI;YACF,WAAW,CAAC,UAAU,EAAE;SACzB,CACD,OAAM,CAAC,EAAO;YACZ,IAAI,CAAC,CAAC,IAAI,KAAK,MAAM,EACnB,WAAW,GAAG,IAAI,yCAAQ,CAAC,EAAE,CAAC;iBAE3B,IAAI,CAAC,CAAC,IAAI,KAAK,MAAM,EACxB,WAAW,GAAG,IAAI,yCAAQ,CAAC,EAAE,CAAC;SAEjC;KACF;IAED,EAAE,CAAC,YAAY,GAAG,IAAM;QACtB,WAAW,CAAC,YAAY,EAAE;KAC3B;CACF;AAED,IAAI,mCAAE,CAAC,4BAAM,CAAC","sources":["src/index.ts","src/views/gameView.ts","src/models/player/hero.ts","src/models/base/unit.ts","src/models/weapons/gun.ts","src/models/base/weapon.ts","src/views/hud.ts","src/services/enemyService.ts","src/models/enemies/zombie.ts","src/views/menuView.ts","src/views/resultView.ts"],"sourcesContent":["import P5 from \"p5\"\r\nimport { GameView } from \"./views/gameView\"\r\nimport { IView } from \"./views/IView\"\r\nimport { MenuView } from \"./views/menuView\"\r\nimport { ResultView } from \"./views/resultView\"\r\n\r\nconst sketch = (p5: P5) => {\r\n  let currentView: IView\r\n\r\n  p5.setup = () => {\r\n    const canvas = p5.createCanvas(p5.windowWidth, p5.windowHeight)\r\n    canvas.parent(\"app\")\r\n\r\n    currentView = new MenuView(p5)\r\n  }\r\n\r\n  p5.windowResized = () => {\r\n    p5.resizeCanvas(p5.windowWidth, p5.windowHeight)\r\n  }\r\n\r\n  p5.draw = () => {\r\n    p5.background(120)\r\n\r\n    try {\r\n      currentView.init()\r\n      currentView.draw()\r\n    }\r\n    catch(e: any) {\r\n      if (e.name === 'GAME OVER') {\r\n        currentView = new ResultView(p5, e.message)\r\n      }      \r\n    }\r\n  }\r\n\r\n  p5.keyPressed = () => {\r\n    try {\r\n      currentView.keyPressed()\r\n    }\r\n    catch(e: any) {\r\n      if (e.name === 'MENU') {\r\n        currentView = new MenuView(p5)\r\n      }\r\n      else if (e.name === 'GAME') {\r\n        currentView = new GameView(p5)\r\n      }\r\n    }\r\n  }\r\n\r\n  p5.mouseClicked = () => {\r\n    currentView.mouseClicked()\r\n  } \r\n}\r\n\r\nnew P5(sketch)","import P5 from \"p5\"\r\nimport { Unit } from \"../models/base/unit\"\r\nimport { Hero } from \"../models/player/hero\"\r\nimport { Hud } from \"./hud\"\r\nimport enemyService from \"../services/enemyService\"\r\nimport { IView } from \"./IView\"\r\n\r\nexport class GameView implements IView{\r\n  p5: P5\r\n  isInitialized: boolean\r\n  score: number\r\n\r\n  hero: Hero \r\n  enemies: Unit[]\r\n  hud: Hud\r\n  \r\n  constructor(p5: P5) {\r\n    this.p5 = p5\r\n    this.isInitialized = false\r\n  }\r\n\r\n  init = () => {\r\n    if (!this.isInitialized) {\r\n      this.hero = new Hero(this.p5, 2.5, 30, this.p5.createVector(this.p5.windowWidth / 2, this.p5.windowHeight / 2), 1)\r\n      this.enemies = []\r\n      this.hud = new Hud()\r\n      this.score = 0\r\n      this.isInitialized = true\r\n    }\r\n  }\r\n\r\n  draw = () => {\r\n    try\r\n    {\r\n      const es = enemyService()\r\n\r\n      const heroDirection = this.hero.getMoveDirection()\r\n      this.hero.move(heroDirection)\r\n      \r\n      es.spawnEnemy(this.p5, this.enemies, this.hero)\r\n      es.moveEnemies(this.enemies, this.hero)\r\n      \r\n      this.score += es.calculateDamage(this.enemies, this.hero)\r\n  \r\n      es.drawEnemies(this.enemies)\r\n      this.hero.draw()\r\n      this.hud.draw(this.p5, this.hero, this.score)\r\n    }\r\n    catch(e: any) {\r\n      if (e.message === 'GAME OVER') {\r\n        const error = new Error(this.score.toString())\r\n        error.name = 'GAME OVER'\r\n        throw error\r\n      }   \r\n    }\r\n  }\r\n\r\n  keyPressed = () => {\r\n    if (this.p5.keyCode === 82) {//R\r\n      this.hero.reload()\r\n    }\r\n  }\r\n\r\n  mouseClicked = () => {\r\n    this.hero.attack()\r\n  }\r\n}","import P5, { Vector } from \"p5\";\r\nimport { Unit } from \"../base/unit\";\r\nimport { IWeapon } from \"../base/weapon\";\r\nimport { Gun } from \"../weapons/gun\";\r\n\r\nexport class Hero extends Unit {  \r\n  weapon: IWeapon\r\n\r\n  constructor(p5: P5, speed: number, size: number, position: Vector, health: number) {\r\n    super(p5, speed, size, position, health)\r\n    this.color = p5.color(130, 40, 0)\r\n    this.weapon = new Gun(p5)\r\n  }\r\n\r\n  getMoveDirection(): Vector {\r\n    const v = this._p5.createVector(0, 0)\r\n\r\n    if(this._p5.keyIsDown(87)) // W\r\n      v.y -= 1\r\n    if(this._p5.keyIsDown(83)) // S\r\n      v.y += 1\r\n    if(this._p5.keyIsDown(65)) // A\r\n      v.x -= 1\r\n    if(this._p5.keyIsDown(68)) // D\r\n      v.x += 1\r\n\r\n    return v\r\n  }\r\n\r\n  draw(): void {\r\n    this.weapon.draw(this.position, this.size / 2)\r\n    this._p5.strokeWeight(2)\r\n    this._p5.fill(this.color)\r\n    this._p5.circle(this.position.x, this.position.y, this.size)\r\n  }\r\n\r\n  attack(): void {\r\n    this.weapon.attack(this.position)\r\n  }\r\n\r\n  reload(): void {\r\n    this.weapon.reload()\r\n  }\r\n}","import P5, { Vector } from \"p5\"\r\n\r\nexport interface IUnit {\r\n  _p5: P5\r\n  position: Vector\r\n  size: number\r\n  speed: number\r\n  color: P5.Color\r\n  health: number\r\n  maxHealth: number\r\n\r\n  move(v: Vector): void\r\n  draw(p5: P5): void\r\n}\r\n\r\nexport class Unit implements IUnit {\r\n  _p5: P5\r\n  position: Vector\r\n  size: number\r\n  speed: number\r\n  color: P5.Color\r\n  health: number\r\n  maxHealth: number\r\n\r\n  constructor(p5: P5, speed: number, size: number, position: Vector, health: number) {\r\n    this._p5 = p5\r\n    this.speed = speed\r\n    this.size = size\r\n    this.position = position\r\n    this.color = p5.color(80)\r\n    this.health = health\r\n    this.maxHealth = health\r\n  }\r\n\r\n  move(v: Vector): void {\r\n    this.position.add(v.mult(this.speed))\r\n  }\r\n\r\n  draw(): void {\r\n    //body\r\n    this._p5.strokeWeight(2)\r\n    this._p5.fill(this.color)\r\n    this._p5.circle(this.position.x, this.position.y, this.size)\r\n\r\n    //health\r\n    this._p5.textSize(16)\r\n    this._p5.fill(0)\r\n    const healthText = Math.round(this.health / this.maxHealth * 100) + '%'\r\n    this._p5.text(healthText, this.position.x - this._p5.textWidth(healthText) / 2, this.position.y + 7)\r\n  }\r\n}","import P5, { Vector } from \"p5\";\r\nimport { RangedWeapon, IAttack } from \"../base/weapon\";\r\n\r\nexport class Gun extends RangedWeapon {\r\n  constructor(p5: P5) {\r\n    super(p5, 9, 600, 8, 5)\r\n  }\r\n\r\n  shot(target: P5.Vector, position: P5.Vector): void {\r\n    const gun = target.sub(position).normalize()\r\n    const shot = position.copy().add(gun)\r\n    this._shots.push({\r\n      position: position,\r\n      vector: gun.copy().normalize().mult(this.weaponSpeed),\r\n      attack: shot.copy()\r\n    })\r\n  }\r\n\r\n  _drawBullets(): void {\r\n    const shotsToDelete: IAttack[] = []\r\n    for (let s of this._shots) { \r\n      s.attack.add(s.vector)\r\n\r\n      if(Math.abs(s.attack.x) > this._p5.width || Math.abs(s.attack.y) > this._p5.height) \r\n        shotsToDelete.push(s)\r\n      else {\r\n        this._p5.circle(s.attack.x, s.attack.y, 3)\r\n      }\r\n    }\r\n    for (let s of shotsToDelete) {\r\n      const idx = this._shots.indexOf(s)\r\n      this._shots.splice(idx, 1)\r\n    }\r\n  }\r\n  \r\n  draw(position: P5.Vector, unitSize: number): void {\r\n    this._drawBullets()\r\n\r\n    const target = this._p5.createVector(this._p5.mouseX, this._p5.mouseY)\r\n    const gun = target.sub(position).normalize().mult(unitSize + 10).add(position)\r\n    this._p5.stroke(0)\r\n    this._p5.strokeWeight(5)\r\n    this._p5.line(position.x, position.y, gun.x, gun.y)\r\n  }\r\n}","import P5, { Vector } from \"p5\"\r\nimport { IUnit } from \"./unit\"\r\n\r\nexport interface IWeapon {  \r\n  _p5: P5\r\n  _isReloading: boolean\r\n  ammo: number\r\n  reloadingTime: number\r\n  damage: number\r\n\r\n  attack(position: P5.Vector): void\r\n  reload(): void\r\n  isReloading(): boolean\r\n  getMaxAmmo(): number\r\n  draw(position: P5.Vector, unitSize: number): void\r\n  getAttacks(): IAttack[]\r\n  dealDamage(enemy: IUnit, attack: IAttack): void\r\n}\r\n\r\nexport interface IAttack {\r\n  position: P5.Vector\r\n  vector: P5.Vector\r\n  attack: P5.Vector\r\n}\r\n\r\nexport class RangedWeapon implements IWeapon {\r\n  _p5: P5\r\n  _isReloading: boolean\r\n  maxAmmo: number\r\n  ammo: number\r\n  reloadingTime: number\r\n  weaponSpeed: number\r\n  _shots: IAttack[]\r\n  damage: number\r\n\r\n  constructor(p5: P5, maxAmmo: number, reloadingTime: number, weaponSpeed: number, damage: number) {\r\n    this._p5 = p5\r\n    this.maxAmmo = maxAmmo\r\n    this.ammo = maxAmmo\r\n    this.reloadingTime = reloadingTime\r\n    this.weaponSpeed = weaponSpeed\r\n    this._shots = []\r\n    this.damage = damage\r\n  }\r\n\r\n  shot(target: P5.Vector, position: P5.Vector): void {}\r\n  draw(position: P5.Vector, unitSize: number): void {}  \r\n  \r\n  attack(position: P5.Vector): void {\r\n    if (!this._isReloading && this.ammo > 0) {\r\n      const target = this._p5.createVector(this._p5.mouseX, this._p5.mouseY)\r\n      this.shot(target, position)\r\n      this.ammo--\r\n    }\r\n    if (this.ammo <= 0) {\r\n      this.reload()\r\n    }\r\n  }\r\n  reload(): void {\r\n    if (!this._isReloading) {\r\n      this._isReloading = true\r\n      const timeout = setTimeout(() => {\r\n        this.ammo = this.maxAmmo\r\n        this._isReloading = false\r\n        clearTimeout(timeout)\r\n      }, this.reloadingTime / this._p5.frameRate() * 100)\r\n    }\r\n  }\r\n  isReloading(): boolean {\r\n    return this._isReloading\r\n  }\r\n  getMaxAmmo(): number {\r\n    return this.maxAmmo\r\n  }\r\n  getAttacks(): IAttack[] {\r\n    return this._shots\r\n  }\r\n  dealDamage(enemy: IUnit, attack: IAttack): void {\r\n    enemy.health -= this.damage\r\n    this._shots.splice(this._shots.indexOf(attack), 1)\r\n  }\r\n}","import P5 from 'p5'\r\nimport { Hero } from '../models/player/hero'\r\n\r\nexport class Hud {\r\n  draw(p5: P5, hero: Hero, score: number) : void {\r\n    p5.fill(0)\r\n\r\n    p5.textSize(24)\r\n    p5.text('AMMO:', 20, p5.windowHeight - 20)\r\n    p5.text(`SCORE: ${score}`, 20, 40)\r\n\r\n    const maxAmmo = hero.weapon.getMaxAmmo()\r\n    const ammo = hero.weapon.ammo\r\n\r\n    for(let i = 1; i <= maxAmmo; i++) {\r\n      if (i > ammo) {\r\n        p5.noFill()\r\n      }\r\n      p5.rect(90 + 20 * i, p5.windowHeight - 45, 13, 30)\r\n    }\r\n  }\r\n}","import P5 from \"p5\"\r\nimport { IUnit, Unit } from \"../models/base/unit\"\r\nimport { Zombie } from \"../models/enemies/zombie\"\r\nimport { Hero } from \"../models/player/hero\"\r\n\r\nconst enemyService = () => {\r\n  const spawnEnemy = (p5: P5, enemies: Unit[], hero: Hero) => {\r\n    if(p5.frameCount % 120 === 0) {\r\n      const outerSide = p5.random(['x', 'y'])\r\n      let x: number, y: number\r\n      if (outerSide === 'x') {\r\n        x = p5.random(0, 1) > 0.5 ? p5.windowWidth + 100 : -100\r\n        y = p5.random(0, p5.windowHeight)\r\n      } else {\r\n        x = p5.random(0, p5.windowWidth)\r\n        y = p5.random(0, 1) > 0.5 ? p5.windowHeight + 100 : -100\r\n      }     \r\n\r\n      enemies.push(new Zombie(p5, 1, 50, p5.createVector(x, y), 30))\r\n    }\r\n  }\r\n\r\n  const moveEnemies = (enemies: Unit[], hero: Hero) => {\r\n    const enemiesToAbsorb = []\r\n    for (const enemy of enemies) {\r\n      const v = hero.position.copy().sub(enemy.position).normalize().mult(enemy.speed)\r\n      enemy.position.add(v)\r\n\r\n      for (const other of enemies) {\r\n        if (enemy === other) continue\r\n        if (enemiesToAbsorb.some(e => e.absorbed === enemy)) continue\r\n        if (other.size > enemy.size) continue\r\n        if (enemy.position.dist(other.position) < (enemy.size / 2) - (other.size / 4)) {\r\n          enemy.health += other.health\r\n          enemy.maxHealth += other.maxHealth\r\n          enemiesToAbsorb.push({\r\n            grow: enemy,\r\n            absorbed: other\r\n          })                  \r\n        }\r\n      }      \r\n    }    \r\n\r\n    for (const x of enemiesToAbsorb) {\r\n      x.grow.size += 5\r\n      x.speed *= 0.90\r\n      enemies.splice(enemies.indexOf(x.absorbed), 1)\r\n    }\r\n  }\r\n\r\n  const drawEnemies = (enemies: Unit[]) => {\r\n    for (const enemy of enemies) {\r\n      enemy.draw()\r\n    }\r\n  }\r\n\r\n  const calculateDamage = (enemies: Unit[], hero: Hero): number => {\r\n    if (enemies.some(e => hero.position.dist(e.position) < e.size / 2 + hero.size / 2)) \r\n      throw new Error(\"GAME OVER\")\r\n    \r\n    const deadEnemies: Unit[] = []\r\n    for (const enemy of enemies) {\r\n      for (const attack of hero.weapon.getAttacks()) {\r\n        if (enemy.position.dist(attack.attack) < enemy.size / 2) {\r\n          hero.weapon.dealDamage(enemy, attack)\r\n          if (enemy.health <= 0) deadEnemies.push(enemy)\r\n        }\r\n      } \r\n    }\r\n\r\n    for (let enemy of deadEnemies) {\r\n      enemies.splice(enemies.indexOf(enemy), 1)\r\n    }\r\n\r\n    return deadEnemies.length\r\n  }\r\n\r\n  return {\r\n    spawnEnemy,\r\n    moveEnemies,\r\n    drawEnemies,\r\n    calculateDamage\r\n  }\r\n}\r\n\r\nexport default enemyService","import P5, { Vector } from \"p5\";\r\nimport { Unit } from \"../base/unit\";\r\n\r\nexport class Zombie extends Unit {\r\n  constructor(p5: P5, speed: number, size: number, position: Vector, health: number) {\r\n    super(p5, speed, size, position, health)\r\n    this.color = p5.color(50, 150, 0)\r\n  }\r\n}","import P5 from \"p5\"\r\nimport { IView } from \"./IView\"\r\n\r\nexport class MenuView implements IView{\r\n  p5: P5\r\n\r\n  constructor(p5: P5) {\r\n    this.p5 = p5\r\n  }\r\n\r\n  init = () => {\r\n\r\n  }\r\n\r\n  draw = () => {\r\n    this.p5.strokeWeight(0)\r\n    this.p5.textSize(80)\r\n    this.p5.textStyle(this.p5.BOLD)\r\n    this.p5.fill(this.p5.color(130, 40, 0))\r\n    const title = 'ShooterP5'\r\n    this.p5.text(title, this.p5.windowWidth / 2 - this.p5.textWidth(title) / 2, this.p5.windowHeight / 4)\r\n\r\n    this.p5.textStyle(this.p5.NORMAL)\r\n    this.p5.textSize(30)\r\n    this.p5.fill(20)\r\n\r\n    const controlsMoving = 'Moving:   [W] [A] [S] [D]'\r\n    this.p5.text(controlsMoving, this.p5.windowWidth / 2 - this.p5.textWidth(controlsMoving) / 2, this.p5.windowHeight / 2)\r\n\r\n    const controlsMouse = 'Shooting:   Left Mouse Button'\r\n    this.p5.text(controlsMouse, this.p5.windowWidth / 2 - this.p5.textWidth(controlsMouse) / 2, this.p5.windowHeight / 2 + 40)    \r\n\r\n    const controlsReloading = 'Reloading:   [R]'\r\n    this.p5.text(controlsReloading, this.p5.windowWidth / 2 - this.p5.textWidth(controlsReloading) / 2, this.p5.windowHeight / 2 + 80)    \r\n\r\n    this.p5.textStyle(this.p5.NORMAL)\r\n    this.p5.textSize(40)\r\n    const menuText = `Press [ SPACE ] to start game`\r\n    this.p5.text(menuText, this.p5.windowWidth / 2 - this.p5.textWidth(menuText) / 2, this.p5.windowHeight * 3 / 4)\r\n  }\r\n\r\n  keyPressed = () => {\r\n    if (this.p5.keyCode === 32) {//space\r\n      const error = new Error()\r\n      error.name = 'GAME'\r\n      throw error\r\n    }\r\n  }\r\n\r\n  mouseClicked = () => {\r\n\r\n  }\r\n}","import P5 from \"p5\"\r\nimport { IView } from \"./IView\"\r\n\r\nexport class ResultView implements IView{\r\n  p5: P5\r\n  result: number\r\n\r\n  constructor(p5: P5, result: string) {\r\n    this.p5 = p5\r\n    this.result = parseInt(result)\r\n  }\r\n\r\n  init = () => {\r\n\r\n  }\r\n\r\n  draw = () => {\r\n    this.p5.strokeWeight(5)\r\n    this.p5.textSize(60)\r\n    this.p5.fill(60)\r\n    const resultText = `Your result: ${this.result}!`\r\n    this.p5.text(resultText, this.p5.windowWidth / 2 - this.p5.textWidth(resultText) / 2, this.p5.windowHeight / 3)\r\n\r\n    this.p5.strokeWeight(0)\r\n    this.p5.textSize(40)\r\n    const menuText = `Press [ SPACE ] to go to main menu`\r\n    this.p5.text(menuText, this.p5.windowWidth / 2 - this.p5.textWidth(menuText) / 2, this.p5.windowHeight * 2 / 3)\r\n  }\r\n\r\n  keyPressed = () => {\r\n    if (this.p5.keyCode === 32) {//space\r\n      const error = new Error()\r\n      error.name = 'MENU'\r\n      throw error\r\n    }\r\n  }\r\n\r\n  mouseClicked = () => {\r\n\r\n  }\r\n}"],"names":[],"version":3,"file":"main.js.map"}